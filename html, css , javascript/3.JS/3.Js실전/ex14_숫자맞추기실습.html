<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Do+Hyeon:400"
      rel="stylesheet"
    />
    <style>
      body {
        background: url("https://media.istockphoto.com/photos/clear-blue-sky-as-a-background-wallpaper-pastel-sky-wallpaper-picture-id608634136?k=20&m=608634136&s=170667a&w=0&h=QqB80Ci9iSHOw0OjdM1fNbEeDrSvHG7-YuXNf_TcQnE=");
        background-repeat: no-repeat;
        background-size: cover;
        text-align: center;
        height: 100vh;
        font-family: "do hyeon";
      }
      .container {
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        width: 600px;
        padding: 50px;
        background-color: rgba(255, 255, 255, 0.5);
        border-radius: 25px;
        box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px,
          rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
      }
      #result-area,
      #chance-area {
        font-size: 1.5em;
      }
      #user-input {
        width: 300px;
        height: 50px;
        font-size: 1.5em;
        text-align: center;
        margin-top: 10px;
        outline: 0;
        border: 0;
        border-radius: 10px;
      }
      #btn-area {
        margin-top: 10px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ìˆ«ì ë§ì¶”ê¸° ê²Œì„</h1>

      <div id="result-area">ê²°ê³¼ê°’ì´ ì—¬ê¸° ë‚˜ì˜µë‹ˆë‹¤!</div>
      <div id="chance-area">ë‚¨ì€ ê¸°íšŒ:5ë²ˆ</div>

      <input
        type="text"
        id="user-input"
        placeholder="ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”.
      "
        autofocus
      />

      <div id="btn-area">
        <button id="play-button" class="btn btn-success">í™•ì¸</button>
        <button id="reset-button" class="btn btn-danger">ì´ˆê¸°í™”</button>
      </div>
    </div>

    <!-- JavaScript -->
    <script>
      /*
        [ìˆ«ì ë§ì¶”ê¸° ê²Œì„] 
        1.ëœë¤ìˆ«ì ìƒì„±í•˜ê¸°
        2.ìœ ì €ëŠ” ìˆ«ìë¥¼ ì…ë ¥ í›„ í™•ì¸ë²„íŠ¼ì„ ëˆ„ë¥¸ë‹¤.
        3.ìœ ì €ê°€ ì…ë ¥í•œ ê°’ê³¼ ëœë¤ê°’ì„ ë¹„êµí•œ í›„ ê²°ê³¼ë¥¼ ì›¹ í˜ì´ì§€ì— ì¶œë ¥í•œë‹¤.
         3-1.ìœ ì €ê°€ ì…ë ¥í•œ ê°’ === ëœë¤ìˆ«ì -> "ì •ë‹µì…ë‹ˆë‹¤!ğŸ‘"
         3-2.ìœ ì €ê°€ ì…ë ¥í•œ ê°’ > ëœë¤ìˆ«ì -> "ì…ë ¥í•œ ìˆ«ìë³´ë‹¤ ì‘ì€ ìˆ˜ì…ë‹ˆë‹¤..ğŸ¤£"
         3-3.ìœ ì €ê°€ ì…ë ¥í•œ ê°’ < ëœë¤ìˆ«ì -> "ì…ë ¥í•œ ìˆ«ìë³´ë‹¤ í° ìˆ˜ì…ë‹ˆë‹¤..ğŸ¤£"

        4.5ë²ˆì˜ ê¸°íšŒë¥¼ ëª¨ë‘ ì†Œì§„í•˜ë©´ ê²Œì„ì´ ëë‚œë‹¤.(í™•ì¸ë²„íŠ¼ì€ ë¹„í™œì„±í™”)
          ex) "ê²Œì„ì´ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤..ğŸ˜µ" ì¶œë ¥

        5.ì´ˆê¸°í™”ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ê²Œì„ì´ ë¦¬ì…‹ëœë‹¤.

        6.ìœ ì €ê°€ 1~100 ë²”ìœ„ì— í¬í•¨ë˜ì§€ ì•ŠëŠ” ìˆ«ìë¥¼ ì…ë ¥í•˜ë©´ ê¸°íšŒíšŸìˆ˜ëŠ” ê°ì†Œí•˜ì§€ ì•ŠëŠ”ë‹¤.
          ex) "1~100 ë²”ìœ„ì— í¬í•¨ë˜ì§€ ì•ŠëŠ” ìˆ«ìì…ë‹ˆë‹¤. ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”. " ì¶œë ¥

        7.ìœ ì €ê°€ ì´ë¯¸ ì…ë ¥í•œ ìˆ«ìë¥¼ ë˜ ì…ë ¥í•˜ë©´ ê¸°íšŒíšŸìˆ˜ëŠ” ê°ì†Œí•˜ì§€ ì•ŠëŠ”ë‹¤.
          * ë°°ì—´ì— ì´ì „ ê°’ì„ ì €ì¥í•˜ë„ë¡ êµ¬í˜„í•´ì•¼ í•œë‹¤.
          ex) "10ì€ í•œ ë²ˆ ì…ë ¥í–ˆë˜ ìˆ«ìì…ë‹ˆë‹¤. ë‹¤ë¥¸ ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”." ì¶œë ¥
       */

      let computerNum = parseInt(Math.random() * 100) + 1;
      let userInput = document.getElementById("user-input");
      let playButton = document.getElementById("play-button");
      let resultArea = document.getElementById("result-area");
      let chanceArea = document.getElementById("chance-area");
      let resetButton = document.getElementById("reset-button");
      let chance = 5; //íšŸìˆ˜ë¥¼ ì €ì¥í•˜ëŠ” ë³€ìˆ˜
      let history = []; //ì´ì „ì— ì…ë ¥í•œ ìˆ«ìë¥¼ ì €ì¥í•˜ëŠ” ë°°ì—´

      console.log("ëœë¤ìˆ«ì", computerNum);

      //í™•ì¸ë²„íŠ¼ í´ë¦­ ì‹œ, ìœ ì €ê°€ ì…ë ¥í•œ ê°’ê³¼ ëœë¤ìˆ«ìë¥¼ ë¹„êµí•˜ëŠ” ê¸°ëŠ¥ êµ¬í˜„
      playButton.addEventListener("click", () => {
        //inputìš”ì†Œì˜ valueì†ì„±ê°’ì€ ë¬¸ìì—´ì´ê¸° ë•Œë¬¸ì— ìˆ«ìë¡œ ë³€í™˜ì„ í•´ì•¼ í•œë‹¤!
        let userNum = parseInt(userInput.value);

        // 1~100 ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ëŠ” ìˆ«ìë¥¼ ì…ë ¥í–ˆì„ ë•Œ, ë©”ì‹œì§€ì™€ í•¨ê»˜ ì•„ë˜ ì½”ë“œê°€ ì‹¤í–‰ë˜ì§€ ì•Šë„ë¡
        // returnë¬¸ì„ ë„£ì–´ì¤˜ì•¼ í•œë‹¤!
        if (userNum > 100 || userNum < 1) {
          resultArea.innerText =
            "1~100 ë²”ìœ„ì— í¬í•¨ë˜ì§€ ì•ŠëŠ” ìˆ«ìì…ë‹ˆë‹¤. ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”ğŸ˜•";
          return;
        }

        // ì´ë¯¸ ì…ë ¥í•œ ìˆ«ìì¸ì§€ íŒë‹¨í•œ í›„ ê²°ê³¼ë¥¼ ì›¹ í˜ì´ì§€ì— ì¶œë ¥í•´ì•¼ í•œë‹¤!
        // ë°°ì—´ì— ë°ì´í„°ê°€ ìˆì„ ê²½ìš° -> true
        if (history.includes(userNum)) {
          resultArea.innerText = `${userNum}ëŠ”(ì€) í•œ ë²ˆ ì…ë ¥í–ˆë˜ ìˆ«ìì…ë‹ˆë‹¤. ë‹¤ë¥¸ ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.`;
          return;
        }

        //ë¹„êµí•œ ê²°ê³¼ê°’ì€ ì›¹ í˜ì´ì§€ì— ì¶œë ¥í•´ì•¼ í•œë‹¤!
        if (userNum === computerNum) {
          resultArea.innerText = "ì •ë‹µì…ë‹ˆë‹¤!ğŸ‘";
          playButton.disabled = true;
        } else if (userNum > computerNum) {
          resultArea.innerText = "ì…ë ¥í•œ ìˆ«ìë³´ë‹¤ ì‘ì€ ìˆ˜ì…ë‹ˆë‹¤..ğŸ¤£";
        } else {
          resultArea.innerText = "ì…ë ¥í•œ ìˆ«ìë³´ë‹¤ í° ìˆ˜ì…ë‹ˆë‹¤..ğŸ¤£";
        }

        //ì´ì „ì— ì…ë ¥í–ˆë˜ ìˆ«ìë¥¼ history ë°°ì—´ì— ì €ì¥í•œë‹¤.
        history.push(userNum);
        console.log(history);

        //ê¸°íšŒë¥¼ 1ì”© ì°¨ê°í•œ í›„ ë‚¨ì€ ê¸°íšŒë¥¼ ì›¹ í˜ì´ì§€ì— ì¶œë ¥í•œë‹¤.
        chance -= 1;
        chanceArea.innerText = `ë‚¨ì€ ê¸°íšŒ:${chance}ë²ˆ`;

        //ê¸°íšŒê°€ ëª¨ë‘ ì†Œì§„ëœ ê²½ìš°, ê²°ê³¼ê°’ì„ ì›¹ í˜ì´ì§€ì— ì¶œë ¥í•œë‹¤.
        if (chance == 0) {
          resultArea.innerText = "ê²Œì„ì´ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤..ğŸ˜µ";
          playButton.disabled = true;
        }
      }); //end playButton

      //ì´ˆê¸°í™”ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ, ì²˜ìŒ ë³¸ í™”ë©´ìœ¼ë¡œ ì´ˆê¸°í™”ë˜ë„ë¡ êµ¬í˜„
      //ì´ˆê¸°í™”í•´ì•¼ í•  ë°ì´í„° : ëœë¤ìˆ«ì, ë‚¨ì€ê¸°íšŒ, ë²„íŠ¼í™œì„±í™”, ê²°ê³¼ë©”ì‹œì§€ì˜ì—­
      resetButton.addEventListener("click", () => {
        chanceArea.innerText = `ë‚¨ì€ ê¸°íšŒ:5ë²ˆ`;
        resultArea.innerText = "ê²°ê³¼ê°’ì´ ì—¬ê¸° ë‚˜ì˜µë‹ˆë‹¤!";
        computerNum = parseInt(Math.random() * 100) + 1;
        playButton.disabled = false;
        history = [];
        chance = 5;
      }); //end resetButton
    </script>
  </body>
</html>
